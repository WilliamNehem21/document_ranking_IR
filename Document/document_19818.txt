At the beginning of the ninth century, England was almost wholly under the control of the Anglo-Saxons. The Midland kingdom of Mercia dominated southern England, but their supremacy came to an end in 825 when they were decisively defeated by Ecgberht at the Battle of Ellendun. The two kingdoms became allies, which was important in the resistance to Viking attacks. In the same year Ecgberht sent his son Ãthelwulf to conquer the Mercian sub-kingdom of Kent (the area of the modern county plus Essex, Surrey and Sussex) and appointed him sub-king. In 835 the Isle of Sheppey was ravaged by Vikings and in the following year they defeated Ecgberht at Carhampton in Somerset, but in 838 he was victorious over an alliance of Cornishmen and Vikings at the Battle of Hingston Down, reducing Cornwall to the status of a client kingdom. He died in 839 and was succeeded by Ãthelwulf, who appointed his eldest son Ãthelstan as sub-king of Kent. Ãthelwulf and Ecgberht may not have intended a permanent union between Wessex and Kent as they both appointed sons as sub-kings and charters in Wessex were attested (witnessed) by West Saxon magnates, while Kentish charters were witnessed by the Kentish elite; both kings kept overall control and the sub-kings were not allowed to issue their own coinage.