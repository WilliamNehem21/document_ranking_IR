Meanwhile, in the Caribbean theater, a large force of regulars and volunteers gathered near Tampa, Florida, for an invasion of Cuba. The army faced difficulties in supplying the rapidly expanding force even before they departed for Cuba, but by June, Corbin had made progress in resolving the problems. After lengthy delays, the army, led by Major General William Rufus Shafter, sailed from Florida on June 20, landing near Santiago de Cuba two days later. Following a skirmish at Las Guasimas on June 24, Shafter's army engaged the Spanish forces on July 2 in the Battle of San Juan Hill. In an intense day-long battle, the American force was victorious, although both sides suffered heavy casualties. The next day, the Spanish Caribbean squadron, which had been sheltering in Santiago's harbor, broke for the open sea but was intercepted and destroyed by Rear Admiral William T. Sampson's North Atlantic Squadron in the largest naval battle of the war. Shafter laid siege to the city of Santiago, which surrendered on July 17, placing Cuba under effective American control. McKinley and Miles also ordered an invasion of Puerto Rico, which met little resistance when it landed in July. The distance from Spain and the destruction of the Spanish navy made resupply impossible, and the Spanish government began to look for a way to end the war.