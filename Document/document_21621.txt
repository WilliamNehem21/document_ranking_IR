The city's fortifications were strong, with a wide moat and a thick wall protected by 44 towers, according to the contemporary geographer Ibn Khordadbeh. The caliph assigned each of his generals to a stretch of the walls. Both besiegers and besieged had many siege engines, and for three days both sides exchanged missile fire while Arab sappers tried to undermine the walls. According to Arab accounts, an Arab prisoner who had converted to Christianity defected back to the caliph, and informed him about a place in the wall which had been badly damaged by heavy rainfall and only hastily and superficially repaired due to the city commander's negligence. As a result, the Arabs concentrated their efforts on this section. The defenders tried to protect the wall by hanging wooden beams to absorb the shock of the siege engines, but they splintered, and after two days a breach was made. Immediately Aetios realized that the defence was compromised, and decided to try and break through the besieging army during the night and link up with Theophilos. He sent two messengers to the emperor, but both were captured by the Arabs and brought before the caliph. Both agreed to convert to Islam, and Mu'tasim, after giving them a rich reward, paraded them around the city walls in full view of Aetios and his troops. To prevent any sortie, the Arabs stepped up their vigilance, maintaining constant cavalry patrols even during the night.